<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <!-- Meta -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="theme-color" content="#004080" />

<!-- Manifest -->
<link rel="manifest" href="manifest.json">

<!-- Favicon / App Icons -->
<link rel="icon" href="icons/icon-192.png" type="image/png">
<link rel="apple-touch-icon" href="icons/icon-512.png">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IOLG Members Registration</title>
  <style>
   * {
     box-sizing: border-box;
     margin:0;
     padding:0;
   }
    body { font-family: Arial; padding: 20px; }
    .form-group { margin-bottom: 15px; }
    .hidden { display: none; }
    .register-btn, .preview-btn, .print-btn {
      padding: 10px 15px;
      margin-top: 10px;
      cursor: pointer;
    }
  h2 {
    text-align: center;
    margin-bottom: 30px;
  }
  p {
    text-align: justify;
    margin-top:20px;
  }
    table {
      width: 100%; border-collapse: collapse; margin-top: 20px;
    }
    th, td {
      border: 1px solid #ccc; padding: 8px; text-align: left;
    }
    #preview-container  { 
      display: none;
      margin: 20px;
    }
  label {
      display: block;
      margin-bottom: 5px;
    }
    input, select, button {
      width: 100%;
      padding: 8px;
      margin-top: 4px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    button {
      background-color: #007bff;
      color: white;
      border: none;
      cursor: pointer;
    }
    button:hover {
      background-color: #0056b3;
    }
    .hidden {
      display: none;
    }
    .print-btn {
      background: green;
      margin-top: 10px;
    }
  </style>
</head>
<body>

  <div class="container">
    <h2>IOLG Members Registration DATA</h2>

    <div class="form-group">
      <label for="state">Select State:</label>
      <select id="state" required>
        <option value="">-- Select State --</option>
        <option value="ogun">Ogun State</option>
      </select>
    </div>

    <div class="form-group hidden" id="lga-group">
      <label for="lga">Select Local Government:</label>
      <select id="lga" required></select>
    </div>

    <div class="form-group hidden" id="ward-group">
      <label for="ward">Select Ward:</label>
      <select id="ward" required></select>
    </div>

    <div class="form-group hidden" id="unit-group">
      <label for="unit">Select Polling Unit:</label>
      <select id="unit" required></select>
    </div>

    <form class="hidden" id="biodata-form">
      <h3>Bio Data</h3>

      <div class="form-group">
        <label>Full Name:</label>
        <input type="text" id="fullname" required />
      </div>

      <div class="form-group">
        <label>Date of Birth:</label>
        <input type="date" id="dob" required />
      </div>

      <div class="form-group">
        <label>Age:</label>
        <input type="text" id="age" disabled />
      </div>

      <div class="form-group">
        <label>Phone Number:</label>
        <input type="tel" id="phone" required />
      </div>

      <div class="form-group">
        <label>Are you a registered voter?</label>
        <select id="isVoter" required>
          <option value="">-- Select --</option>
          <option value="yes">Yes</option>
          <option value="no">No</option>
        </select>
      </div>

      <div class="form-group hidden" id="vin-group">
        <label>Enter Voter Identification Number (VIN):</label>
        <input type="text" id="vin" />
      </div>

      <div class="form-group">
        <label>Are you a registered party member?</label>
        <select id="isPartyMember" required>
          <option value="">-- Select --</option>
          <option value="yes">Yes</option>
          <option value="no">No</option>
        </select>
      </div>

      <div class="form-group hidden" id="party-id-group">
        <label>Enter Party Membership ID:</label>
        <input type="text" id="partyId" />
      </div>

      <div class="form-group">
        <button type="submit" class="register-btn">Register Member</button>
      </div>
    </form>

    <div class="form-group">
      <button onclick="printPreview(this)">Preview</button>
      <!-- <button onclick="printPreview()" class="preview-btn">ðŸ“„ Preview Registered Members (PDF)</button>-->
    </div>

    <!-- Hidden Preview Area -->
    <div id="preview-container">
      <h3>Registered Members</h3>
      <table id="preview-table">
        <thead>
          <tr>
            <th>#</th>
            <th>Name</th>
            <th>DOB</th>
            <th>Age</th>
            <th>Phone</th>
            <th>LGA</th>
            <th>Ward</th>
            <th>Unit</th>
            <th>VIN</th>
            <th>Party ID</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </div>

 
<!-- ðŸ“¥ Download Button -->

  <a href="admin.html" target="_blank" class="print-btn" style="text-decoration:none;color:white; padding:10px 20px; border:none; border-radius:5px; cursor:pointer; margin-top: 20px;">Preview/Download Pdf</a>
  
  <script>
    const data = {
      ogun: {
        "Ijebu Ode": {
      "Ward-1": [
  "001-Beside Co-Operative Building (Existing)",
  "002-Emmanuel School I, Italupe (Existing)",
  "003-Moslem School, Isoku (Existing)",
  "004-Front of Talabiâ€™s House, Olisa Street I (Existing)",
  "005-Imoru Road Junction (Existing)",
  "006-Oke-Ola Ilorin (Existing)",
  "007-Emmanuel School II (Existing)",
  "008-Front of Talabiâ€™s House, Olisa Street II (Existing)",
  "009-Adjacent A.B Sunmola House, Ijagun Road (New)",
  "010-Beside 3Aâ€™s Hotel, Imoru Road (New)",
  "011Moslem School II, Ondo Road (New)"
],
"Ward-2": [
  "001-Baptist Day School, Ereko (Existing)",
  "002-Front of Our Ladyâ€™s School ( Existing)",
  "003-Front of Alhaji Kukoyiâ€™s House (Existing)",
  "004-Opposite Itajana Mosque (Existing)",
  "005-State Hospital (Existing)",
  "006-Dental Centre (Existing)",
  "007-By Odo Esa Premier Mosque, Near Idiroko, Olisa (New)",
  "008-Saka Ashiru Junction via Mayomayo ( New)",
  "009-Open Space by Olorungbebe Mosque (New)",
  "010-Jimileyin Junction, Adjacent Irepodun Mosque (New)",
  "011-Open Space at Oguntuga Four Junction ( New)"
],
"Ward-3": [
  "Moslem School, Etitale I (001 - Existing)",
  "Opp. Oloritunâ€™s House (002 - Existing)",
  "Front of Igboburo Mosque (003 - Existing)",
  "Front of Balogun Kukuâ€™s House (004 - Existing)",
  "Isokun / Itaogbe Junction (005 - Existing)",
  "Moslem School, Etitale II (006 - Existing)",
  "Ahmmadiah Movement B/S, Araromi (007 - New)"
],
"Ward-4": [
  "Old Wasimi School Hall (001 - Existing)",
  "Joke Taiwo Pry. School (002 - Existing)",
  "Balogun Kuku Road (003 - Existing)",
  "Otubu Memorial School (004 - Existing)",
  "Iyanro Mosque (005 - Existing)",
  "Oke Aje, Back of Ajayiâ€™s House (006 - Existing)",
  "Open Space at Moborode / Gbelegbuwa Junction (007 - New)",
  "Open Space at Itapakure / Olode Junction (008 - New)"
],
"Ward-5": [
  "Front Of Olisaâ€™s Palace (Existing PU)",
  "Old Ijada Market (Existing PU)",
  "Omoluwabi Pry. School Imepe (Existing PU)",
  "Moslem Pry. Sch. Imepe (Existing PU)",
  "U.N.A. Pry. Sch. Imepe (Existing PU)",
  "Orunse Area (Existing PU)",
  "Idomowo/Imose (Existing PU)",
  "Wasimi Pry School (Existing PU)",
  "Idele (Existing PU)",
  "Ayeru/Ajegunle (Existing PU)",
  "Ipamuren Mosque (Existing PU)",
  "Beside Ramdat Hotel, Oguntuga St I-Ode (Existing PU)",
  "Open Space At Oya Junction By Adelaja Str. (New PU)",
  "Ajegunle / Ijada Street By Iya Adam Food Canteen (New PU)",
  "Open Space By Satina Hotel, Off Ondo Road (New PU)",
  "Open Space By Olorunosun / Satina Junction, Ondo Road (New PU)",
  "Open Space At Orunse â€“ Jaginrin Junction Imepe (New PU)",
  "Open Space At Alhaji Sodiq Street Near Olatoye House By Cele (New PU)",
  "Cele T-Junction By Kowa Hospital Off Ejinrin Road (New PU)",
  "Open Space Front Of Bishop Court Ejinrin Road (New PU)",
  "Carterpillar Junction Adefisan Road, Off Ejinrin Road (New PU)",
  "Akintonde Plaza By Oyingbo Junction (New PU)",
  "Front Of Halidu Mosque, Idele Junction (New PU)"
],
      
    "Ward-6": [
  "Muslem College (Existing PU)",
  "Opposite Apeloko (Existing PU)",
  "Opposite L.G. Works Dept (Existing PU)",
  "Beside Isasa Mosque (Existing PU)",
  "Christ Church School Molode (Existing PU)",
  "Ayegbami Wasimi Junction (Existing PU)",
  "Ojofa / Alapo Junction (Existing PU)",
  "Mobegelu Street (In Front Of Olowuâ€™s House) (Existing PU)",
  "Adeola Odutola College (Existing PU)",
  "Local Government Maternity Centre (Existing PU)",
  "Fidipote Adeola Junction (New PU)",
  "Open Space At Ayegbami Abass Street Junction (New PU)",
  "Open Space At Mukeke Junction By Moslem College Road (New PU)",
  "Open Space At Middle Of Kaka Street, Tanimola Junction (New PU)",
  "Moslem Primary School, Molode (New PU)",
  "Open Space Agbaje Junction, By Transformer (New PU)",
  "Open Space At Alebiosu Street, Dupmos Junction (New PU)"
],
          
  "Ward-7": [
  "Front Of Babalolaâ€™s House (Existing PU)",
  "Ijebu-Ode Grammar School (Existing PU)",
  "Christ Church Sch., Porogun (Existing PU)",
  "A.G.G.S. Obalende (Existing PU)",
  "Abeokuta Road Front Of Alowolodu (Existing PU)",
  "Ogbagba Street (Middle Front Of Alowonle) (Existing PU)",
  "Italapo Mosque (Existing PU)",
  "Middle Alapo Street, (Infront Of Mosque) (Existing PU)",
  "Abeokuta Rd (Infront Of Olufowobiâ€™s House) (Existing PU)",
  "Fisigboye â€“ Ehindin Junction By Ijebu-Ode Local Government Secretariat (New PU)",
  "Open Space At Alatishe Mosque By Total Filling Station (New PU)",
  "Degun Junction, Obalende (New PU)",
  "Open Space Beside Obalende Police Station (New PU)",
  "Open Space By Ogunbule Junction, Olorunsogo (New PU)",
  "Open Space Lewu Junction Beside Seico House (New PU)",
  "Omosanya Olaonipekun Junction, Off Degun (New PU)",
  "Fidipote Junction, Off Fusigboye Road (New PU)",
  "Open Space At Alafia / Jaura Church Junction (New PU)"
],

"Ward-8": [
  "Our Saviourâ€™s Pry. School (Existing PU)",
  "Front Of Bata Shop (Existing PU)",
  "Wesley School (Existing PU)",
  "C.A.C. School Degun (Existing PU)",
  "Idepo Junction (Existing PU)",
  "Araromi/Iloro Junction (Existing PU)",
  "Odutola St. (Beside Odupele Street) (Existing PU)",
  "Molipa (Infront Ogo-Oluwa Bakery) (Existing PU)",
  "Molipa High School (Existing PU)",
  "Odupele / Ogunyoku Junction (Existing PU)",
  "Osimore Junction (Existing PU)",
  "Open Space By Kenny Block Industry, Ilamo Area (New PU)",
  "Open Space By Ajiroba House (New PU)",
  "Open Space At Awoyemi Junction (New PU)",
  "Open Space At Alaiyepe Olugbile Junction Molipa (New PU)",
  "Old Epic School / Cele Church Junction Behind Prime Hotel (New PU)",
  "Open Space By Four Number Junction Molipa Road (New PU)",
  "Open Space At Degun Junction By Onalaja Street Off Folagbade Road (New PU)",
  "Open Space By Ogunba-Olasunbo Junction, Off Folagbade Road (New PU)",
  "Open Space By Zipest Filling Station, Opposite Soye Mosque (New PU)",
  "Ayesan Market Gate, Ayesan Area (New PU)",
  "Awoyelu-Jogbo Health Centre (New PU)",
  "Open Space At Lekuti Oke Junction (New PU)",
  "Open Space Opposite Mahdiyat Mosque Idepo Street (New PU)",
  "Open Space Front Of Ogun State Television, Ijebu Ode (New PU)",
  "Open Space At Osifeso/Odutola Street, Ijebu Ode (New PU)",
  "C. A. C. School, Degun (2) (New PU)",
  "C.A.C Church By Post Office / C.M.S Bookshop Folagbade (New PU)"
],
      
"Ward-9": [
  "St. Augustine Catholic School (Existing PU)",
  "A.U.D. Pry. Sch. I, Bonojo (Existing PU)",
  "A.U.D. Pry. Sch. II, Onirugba (Existing PU)",
  "Govt. Technical College (Existing PU)",
  "Ezekiel Awoyelu Junction (Existing PU)",
  "Beside Ijebu-Ode Stadium (Existing PU)",
  "Tai Solarin College Of Education (Existing PU)",
  "Old Odo Egbo Market (Existing PU)",
  "Ahmadiyya Mosque (Existing PU)",
  "K. Mansion (Existing PU)",
  "Igbeba / Elebute Junction (New PU)",
  "Bonjo / Odutola Street (New PU)",
  "GRA Off Awujale Street (Middle) (New PU)",
  "End of Bonojo Eleruku (New PU)",
  "Olufowobi By Bonojo Four Junction (New PU)",
  "Mahdiyat Primary School (New PU)",
  "Adeben Place Hotel Junction, Igbeba (New PU)",
  "V.I.O Centre, Eruwon Road (New PU)",
  "Luba Comprehensive School Off Erunwon Road (New PU)",
  "Open Space Infront of Eid Praying Ground, Idobi (New PU)",
  "Open Space at New Road by Alafia Junction / Akiniganyin (New PU)"
],
   "Ward-10": [
  "Christ Church Pry. School â€“ Isiwo (Existing PU)",
  "Ayeteju Maternity (Existing PU)",
  "Odo/Asoyin Pry. Sch. (Existing PU)",
  "Okelisa (Opposite New Mosque) (Existing PU)",
  "Odo Lofa (Existing PU)",
  "St. Patrick School, Isiwo (Existing PU)",
  "Ansarudeen High Sch, Isiwo (Existing PU)"
],
      
"Ward-11": [
  "St. Alloysius Sch. Iloti (Existing PU)",
  "Odosengolu (Existing PU)",
  "Odo-Arewa Market (Existing PU)",
  "Okenla Tomoba Pry. Sch. (Existing PU)",
  "Local Government School Idale (Existing PU)",
  "St. Joseph Odonoko (Existing PU)",
  "St. Joseph School Odonoko (Existing PU)",
  "Oke-Ako (Existing PU)",
  "St. Anneâ€™s School, Irawo (Existing PU)",
  "Tomoba Village (Existing PU)"
]

          
        }
      }
    };

    const stateSelect = document.getElementById('state');
    const lgaSelect = document.getElementById('lga');
    const wardSelect = document.getElementById('ward');
    const unitSelect = document.getElementById('unit');
    const lgaGroup = document.getElementById('lga-group');
    const wardGroup = document.getElementById('ward-group');
    const unitGroup = document.getElementById('unit-group');
    const form = document.getElementById('biodata-form');

    stateSelect.addEventListener('change', () => {
      const state = stateSelect.value;
      lgaSelect.innerHTML = '<option value="">-- Select LGA --</option>';
      wardSelect.innerHTML = '';
      unitSelect.innerHTML = '';
      if (state && data[state]) {
        lgaGroup.classList.remove('hidden');
        Object.keys(data[state]).forEach(lga =>
          lgaSelect.innerHTML += `<option value="${lga}">${lga}</option>`
        );
      } else lgaGroup.classList.add('hidden');
    });

    lgaSelect.addEventListener('change', () => {
      const state = stateSelect.value;
      const lga = lgaSelect.value;
      wardSelect.innerHTML = '<option value="">-- Select Ward --</option>';
      if (data[state][lga]) {
        wardGroup.classList.remove('hidden');
        Object.keys(data[state][lga]).forEach(ward =>
          wardSelect.innerHTML += `<option value="${ward}">${ward}</option>`
        );
      } else wardGroup.classList.add('hidden');
    });

    wardSelect.addEventListener('change', () => {
      const state = stateSelect.value;
      const lga = lgaSelect.value;
      const ward = wardSelect.value;
      unitSelect.innerHTML = '<option value="">-- Select Unit --</option>';
      if (data[state][lga][ward]) {
        unitGroup.classList.remove('hidden');
        data[state][lga][ward].forEach(unit =>
          unitSelect.innerHTML += `<option value="${unit}">${unit}</option>`
        );
      } else unitGroup.classList.add('hidden');
    });

    unitSelect.addEventListener('change', () => {
      if (unitSelect.value) form.classList.remove('hidden');
    });

    // Age calculation
    document.getElementById('dob').addEventListener('change', function () {
      const dob = new Date(this.value);
      const today = new Date();
      let age = today.getFullYear() - dob.getFullYear();
      const m = today.getMonth() - dob.getMonth();
      if (m < 0 || (m === 0 && today.getDate() < dob.getDate())) age--;
      document.getElementById('age').value = age;
    });

    // VIN field toggle
    document.getElementById('isVoter').addEventListener('change', function () {
      document.getElementById('vin-group').classList.toggle('hidden', this.value !== 'yes');
    });

    // Party ID field toggle
    document.getElementById('isPartyMember').addEventListener('change', function () {
      document.getElementById('party-id-group').classList.toggle('hidden', this.value !== 'yes');
    });

    // Form submit
    form.addEventListener('submit', function (e) {
      e.preventDefault();
      const member = {
        fullname: document.getElementById('fullname').value,
        dob: document.getElementById('dob').value,
        age: document.getElementById('age').value,
        phone: document.getElementById('phone').value,
        state: stateSelect.value,
        lga: lgaSelect.value,
        ward: wardSelect.value,
        unit: unitSelect.value,
        vin: document.getElementById('vin').value,
        partyId: document.getElementById('partyId').value
      };
      const all = JSON.parse(localStorage.getItem('members') || '[]');
      all.push(member);
      localStorage.setItem('members', JSON.stringify(all));
      alert("Member registered!");
      location.reload(); // Auto refresh app
    });

    // Preview + Print PDF
   /* function printPreview() {
      const container = document.getElementById("preview-container");
      const tableBody = container.querySelector("tbody");
      const members = JSON.parse(localStorage.getItem("members") || "[]");
      tableBody.innerHTML = "";
      members.forEach((m, i) => {
        const row = `
        
         <tr>
            <td>${i + 1}</td>
            <td>${m.fullname}</td>
            <td>${m.dob}</td>
            <td>${m.age}</td>
            <td>${m.phone}</td>
            <td>${m.lga}</td>
            <td>${m.ward}</td>
            <td>${m.unit}</td>
            <td>${m.vin}</td>
            <td>${m.partyId}</td>
          </tr>
        `;
        tableBody.innerHTML += row;
      });
      container.style.display = "block";
      setTimeout(() => window.print(), 500);
    }*/
  function printPreview(btn) {
  const container = document.getElementById("preview-container");
  const tableBody = container.querySelector("tbody");

  if (container.style.display === "block") {
    container.style.display = "none";
    btn.innerText = "Preview";
    window.scrollTo({ top: 0, behavior: 'smooth' });
    return;
  }

  const members = JSON.parse(localStorage.getItem("members") || "[]");
  tableBody.innerHTML = "";

  members.forEach((m, i) => {
    const row = `
      <tr>
        <td>${i + 1}</td>
        <td>${m.fullname ?? ""}</td>
        <td>${m.dob ?? ""}</td>
        <td>${m.age ?? ""}</td>
        <td>${m.phone ?? ""}</td>
        <td>${m.lga ?? ""}</td>
        <td>${m.ward ?? ""}</td>
        <td>${m.unit ?? ""}</td>
        <td>${m.vin ?? ""}</td>
        <td>${m.partyId ?? ""}</td>
      </tr>
    `;
    tableBody.innerHTML += row;
  });

  container.style.display = "block";
  container.scrollIntoView({ behavior: 'smooth' });
  btn.innerText = "Close Preview";
}
  </script>

  <!--
  
  <button id="download-pdf-btn" style="background-color:#28a745; color:white; padding:10px 20px; border:none; border-radius:5px; cursor:pointer; margin-top: 20px;">
  
  ðŸ“¥ Download Member Data (PDF)
</button>
  -->

<!-- ðŸ“Š Table for Print -->
<table id="member-table" class="hidden">
  <thead>
    <tr>
      <th>S/N</th>
      <th>Full Name</th>
      <th>Phone</th>
      <th>Gender</th>
      <th>State</th>
      <th>LGA</th>
      <th>Ward</th>
      <th>Polling Unit</th>
      <th>Age</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

<!-- Footer Note -->
<p class="note">Only authorized Ward Secretaries or Chairmen can register members from their own ward.</p>
<p><a href="admin.html">Go to Admin Dashboard</a></p>

<!-- jsPDF CDN -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>

<script>
  // DOM References
  const isPartyMember = document.getElementById("isPartyMember");
  const partyIdGroup = document.getElementById("party-id-group");
  const pollingUnitGroup = document.getElementById("pollingUnit-group");
  const bioData = document.getElementById("bioData");
  const pollingUnit = document.getElementById("pollingUnit");
  const form = document.getElementById("registrationForm");
  const tableBody = document.getElementById("member-table").querySelector("tbody");
  const memberTable = document.getElementById("member-table");

  // Show form when 'Yes' is selected
  isPartyMember.addEventListener("change", () => {
    if (isPartyMember.value === "yes") {
      partyIdGroup.classList.remove("hidden");
      pollingUnitGroup.classList.remove("hidden");
    } else {
      partyIdGroup.classList.add("hidden");
      pollingUnitGroup.classList.add("hidden");
      bioData.classList.add("hidden");
    }
  });

  // Show biodata after polling unit selected
  pollingUnit.addEventListener("change", () => {
    if (pollingUnit.value) {
      bioData.classList.remove("hidden");
    } else {
      bioData.classList.add("hidden");
    }
  });

  // Auto-calculate age
  document.getElementById("dob").addEventListener("change", function () {
    const dob = new Date(this.value);
    const today = new Date();
    const age = today.getFullYear() - dob.getFullYear();
    document.getElementById("age").value = age;
  });

  // Handle Form Submission
  form.addEventListener("submit", function (e) {
    e.preventDefault();

    const member = {
      fullName: document.getElementById("fullName").value,
      phoneNumber: document.getElementById("phoneNumber").value,
      gender: document.getElementById("gender").value,
      state: document.getElementById("state").value,
      lga: document.getElementById("lga").value,
      ward: document.getElementById("ward").value,
      unit: document.getElementById("pollingUnit").value,
      age: document.getElementById("age").value,
    };

    const members = JSON.parse(localStorage.getItem("members") || "[]");
    members.push(member);
    localStorage.setItem("members", JSON.stringify(members));

    alert("Member Registered Successfully!");

    form.reset();
    partyIdGroup.classList.add("hidden");
    pollingUnitGroup.classList.add("hidden");
    bioData.classList.add("hidden");
  });

  // ðŸ“¥ Generate PDF
  document.getElementById("download-pdf-btn").addEventListener("click", () => {
    const password = prompt("Enter admin password to download data:");
    if (password !== "admin123") return alert("Access Denied");

    const members = JSON.parse(localStorage.getItem("members") || "[]");
    if (members.length === 0) return alert("No member data found.");

    tableBody.innerHTML = "";
    members.forEach((m, i) => {
      const row = document.createElement("tr");
      row.innerHTML = `
        <td>${i + 1}</td>
        <td>${m.fullName}</td>
        <td>${m.phoneNumber}</td>
        <td>${m.gender}</td>
        <td>${m.state}</td>
        <td>${m.lga}</td>
        <td>${m.ward}</td>
        <td>${m.unit}</td>
        <td>${m.age}</td>
      `;
      tableBody.appendChild(row);
    });
    memberTable.classList.remove("hidden");

    const { jsPDF } = window.jspdf;
    const doc = new jsPDF({ orientation: "landscape" });
    doc.text("Registered Members", 14, 10);
    doc.autoTable({ html: "#member-table", startY: 20 });
    doc.save("members.pdf");
  });
</script>
  <script>
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker
      .register("/iolgregister/service-worker.js")
      .then(() => console.log("âœ… Service Worker registered"))
      .catch((err) => console.error("SW registration failed:", err));
  }
  </script>
</body>
</html>





    
    
  
 


    

  
    



    
